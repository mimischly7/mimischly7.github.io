"use strict";(self.webpackChunkmimis_website=self.webpackChunkmimis_website||[]).push([[475],{8856:(e,t,n)=>{function a(e){return"operator"===e.type&&"|"===e.value}function r(e){return"operator"===e.type&&"‚à•"===e.value}function o(e){if(e.length<2)return;const t=e.at(0);"OperatorLiteral"===t?.type&&"‚à•"===t.value&&(t.value="‚Äñ");const n=e.at(-1);"OperatorLiteral"===n?.type&&"‚à•"===n.value&&(n.value="‚Äñ")}function s(e){let t=e;for(;t&&("Term"===t.type||"UnaryOperation"===t.type||"BinaryOperation"===t.type||"TernaryOperation"===t.type);)[t]=t.items;t&&"OperatorLiteral"===t.type&&(t.attrs||(t.attrs={}),void 0===t.attrs.lspace&&(t.attrs.lspace=0))}function u(e){return"sep.row"===e.type||"sep.col"===e.type||"infix"===e.type&&("sub"===e.value||"sup"===e.value)}function l(e){if(!e)return[];if("SpaceLiteral"===e.at(-1)?.type&&e.pop(),1!==e.length)return e;const[t]=e;if("FencedGroup"!==t.type||1!==t.items.length)return e;const[n]=t.items;if(1===n.length){const[t]=n;if(("Term"===t.type&&1===t.items.length?t.items[0]:t).type.endsWith("Literal"))return e}return[{type:"Term",items:n}]}function i(e){let t=e.start+1,n=e.tokens.at(t);const a=[];let r=null,o=null;function s(){(r&&r.length>0||o&&o.length>0)&&a.push([l(r),l(o)]),r=null,o=null}let i=n?.value??"sub";for(;n&&u(n);){"infix"===n.type&&(i=n.value),t+=1,n=e.tokens[t],n&&"space"===n.type&&(t+=1,n=e.tokens[t]);const a=[];for(;n&&"paren.close"!==n.type&&!u(n);){const r=M({...e,start:t,stack:[],nestLevel:e.nestLevel+1,stopAt:e=>"infix"===e.type&&("sub"===e.value||"sup"===e.value)});a.push(r.node),t=r.end,n=e.tokens[t]}"sup"===i?(o&&s(),o=a):(r&&s(),r=a)}return(r||o)&&s(),"paren.close"===n?.type&&(t+=1),{scripts:a,end:t}}function c(e){const{type:t,...n}=e;return n}function p(e){let t=e.start,n=e.tokens[t];const a=n,r=[];let o=[],u=[];const l=[];if(t+=1,n=e.tokens[t],n&&"space"===n.type&&(t+=1,n=e.tokens[t]),n&&"infix"===n.type&&("sub"===n.value||"sup"===n.value))return function(e){let t,n,{scripts:a,end:r}=i(e),o=e.tokens.at(r);if(o&&"space"!==o.type){n=a,a=[];const s=M({...e,start:r,stack:[],nestLevel:e.nestLevel+1,stopAt:e=>"paren.open"===e.type});if(t=s.node,r=s.end,o=e.tokens[r],"paren.open"===o?.type){const t=e.tokens.at(r+1);"infix"!==t?.type||"sub"!==t.value&&"sup"!==t.value||({scripts:a,end:r}=i({...e,start:r}))}}else t=e.stack.pop(),"SpaceLiteral"===t?.type&&(t={type:"Term",items:[]});const s={type:"MultiScripts",base:t??{type:"Term",items:[]},post:a};return n&&(s.pre=n),{node:s,end:r}}({...e,start:t-1});for(;n&&"paren.close"!==n.type;){if("space"===n.type&&" "===n.value){t+=1,n=e.tokens[t];continue}if("sep.col"===n.type){const a={value:n.value};n.attrs&&(a.attrs=n.attrs),r.push(a),u.push(o),o=[],t+=1,n=e.tokens[t],n&&"space"===n.type&&(t+=1,n=e.tokens[t]);continue}if("sep.row"===n.type){u.push(o),l.push(u),o=[],u=[],t+=1,n=e.tokens[t],n&&"space"===n.type&&(t+=1,n=e.tokens[t]);continue}1===o.length&&s(o[0]);const a=M({...e,start:t,stack:o,nestLevel:e.nestLevel+1});o.push(a.node),t=a.end,n=e.tokens[t]}o.length>0&&u.push(o);const p=t+1,m=n&&"paren.close"===n.type?n:null,v={open:c(a),close:m?c(m):null,seps:r};if("|"!==v.close?.value||a.value||(v.close.attrs||(v.close.attrs={}),v.close.attrs.lspace="0.35ex"),0===l.length)return{node:{type:"FencedGroup",items:u,attrs:v},end:p};const f=l;return u.length>0&&f.push(u),{node:{type:"MatrixGroup",items:f,attrs:v},end:p}}function m(e,t){if("Term"===e.type&&e.items.length>0){const[n,...a]=e.items;return{...e,items:[m(n,t),...a]}}if("BinaryOperation"===e.type){const[n,a]=e.items;return{...e,items:[m(n,t),a]}}if("TernaryOperation"===e.type){const[n,a,r]=e.items;return{...e,items:[m(n,t),a,r]}}return{type:"UnaryOperation",name:"command",transforms:t,items:[e]}}function v(e){return 1===e.length?e[0]:{type:"Term",items:e}}function f(e){const{tokens:t,start:n}=e,o=t[n],s=e.nestLevel+1;if(!o.name)throw new Error("Got prefix token without a name");const u=function({start:e,tokens:t,stack:n,stopAt:o}){if(o)return o;if(1!==n.length)return;const s=t[e];if(!s||s.arity&&1!==s.arity)return;const u=e>0?t[e-1]:void 0;return u&&"operator"===u.type?"|"===u.value?a:"‚à•"===u.value?r:void 0:void 0}(e);let l=M({...e,stack:[],start:n+1,nestLevel:s,stopAt:u});if(l&&l.node&&"SpaceLiteral"===l.node.type&&(l=M({...e,stack:[],start:l.end,nestLevel:s,stopAt:u})),2===o.arity){if(l&&l.node&&"FencedGroup"===l.node.type&&2===l.node.items.length){const[e,t]=l.node.items,n="root"===o.name?[v(t),v(e)]:[v(e),v(t)];return{node:{type:"BinaryOperation",name:o.name,attrs:o.attrs,items:n},end:l.end}}const t=l;let n=l&&M({...e,stack:[],start:l.end,nestLevel:s});n&&n.node&&"SpaceLiteral"===n.node.type&&(n=M({...e,stack:[],start:n.end,nestLevel:s}));const a={type:"BinaryOperation",name:o.name,items:[t.node,n.node]};return"root"===o.name&&(a.items=[n.node,t.node]),o.attrs&&(a.attrs=o.attrs),{node:a,end:n.end}}const i={type:"UnaryOperation",name:o.name,items:[l.node]};return o.accent&&(i.accent=o.accent),o.attrs&&(i.attrs=o.attrs),l&&l.node&&"FencedGroup"===l.node.type&&1===l.node.items.length&&(i.items=[v(l.node.items[0])]),{node:i,end:l.end}}function d(e){const t=e.tokens[e.start];return{node:{type:"SpaceLiteral",attrs:{width:(n=t.value.startsWith("\n")?0:t.value.length,(n<=0?0:n<=3?.35*(n-1):n<=5?.5*(n-1):n-3)+"ex")}},end:e.start+1};var n}n.r(t),n.d(t,{default:()=>je});const g=e=>({start:t,tokens:n})=>{const{value:a,attrs:r}=n[t],o={type:`${e}Literal`,value:a};return r&&(o.attrs=r),{node:o,end:t+1}},h=[["command",function(e){const t=e.tokens[e.start];if(!t.name)throw new Error("Got command token without a name");const n=[],o=new Map;function s({name:e,value:t}){t&&("text-transform"===e?n.push(t):e&&o.set(e,t))}const u=function({start:e,tokens:t,stack:n,stopAt:o}){if(o)return o;if(1!==n.length)return;const s=e>0?t[e-1]:void 0;return s&&"operator"===s.type?"|"===s.value?a:"‚à•"===s.value?r:void 0:void 0}(e);s(t);let l=e.start+1,i=e.tokens[l];for(;i&&("command"===i.type||"space"===i.type);)"command"===i.type&&s(i),l+=1,i=e.tokens[l];const c=M({...e,stack:[],start:l,nestLevel:e.nestLevel+1,textTransforms:n,stopAt:u});if(0===n.length)return{node:{type:"UnaryOperation",name:"command",styles:o,items:[c.node]},end:c.end};const p=m(c.node,n);return o.size>0?{node:{type:"UnaryOperation",name:"command",styles:o,items:[p]},end:c.end}:{node:p,end:c.end}}],["ident",g("Ident")],["number",g("Number")],["operator",g("Operator")],["text",g("Text")],["infix",L],["paren.open",p],["prefix",f],["space",d]],y=new Map(h),b=["ident","number","operator","text"];function k(e){return function(e){if("frac"!==e.name)return e;for(const t of e.items)s(t);return e}(function(e){const t=e;return t.items.forEach(((n,a)=>{if("FencedGroup"!==n.type||1!==n.items.length)return;if(0===a&&"frac"!==e.name)return;const[r]=n.items;if(1!==r.length)return void(t.items[a]={type:"Term",items:r});const[o]=r,s="Term"===o.type&&1===o.items.length?o.items[0]:o;s.type.endsWith("Literal")||(t.items[a]=s)})),t}(function(e){const t=e,[n]=e.items;return"OperatorLiteral"!==n.type?t:"sub"===e.name&&["lim","‚àë","‚àè","‚ãÇ","‚ãÉ","‚ãÄ","‚ãÅ"].includes(n.value)?(t.name="under",t):"subsup"===e.name&&["‚àë","‚àè","‚ãÇ","‚ãÉ","‚ãÄ","‚ãÅ"].includes(n.value)?(t.name="underover",t):t}(e)))}function w(e,t,n){if("sub"===t.name&&"sup"===e){const[e,a]=t.items;return{type:"TernaryOperation",name:"subsup",items:[e,a,n]}}if("sup"===t.name&&"sub"===e){const[e,a]=t.items;return{type:"TernaryOperation",name:"subsup",items:[e,n,a]}}if("under"===t.name&&("over"===e||"sup"===e)){const[e,a]=t.items;return{type:"TernaryOperation",name:"underover",items:[e,a,n]}}if("over"===t.name&&("under"===e||"sub"===e)){const[e,a]=t.items;return{type:"TernaryOperation",name:"underover",items:[e,n,a]}}const a=k({type:"BinaryOperation",name:e,items:[t,n]});return x(a.name,a.items)}function x(e,[t,n]){if("BinaryOperation"!==t.type||"frac"===e)return{type:"BinaryOperation",name:e,items:[t,n]};const[a,r]=t.items;return{type:"BinaryOperation",name:t.name,items:[a,x(e,[r,n])]}}function L(e){const{tokens:t,start:n,stack:a}=e,r=e.nestLevel+1,s=t[n];let u;!function(e){if(e.length<3)return!1;const t=e.at(0),n=e.at(-1);return"OperatorLiteral"===t?.type&&"OperatorLiteral"===n?.type&&("|"===t.value||"‚à•"===t.value||"‚Äñ"===t.value)&&t.value===n.value}(a)?(u=a.pop(),"SpaceLiteral"===u?.type&&(u=a.pop())):(o(a),u={type:"Term",items:[...a]},a.splice(0,a.length)),u||(u={type:"Term",items:[]});const l=t[n+1];let i;if(l&&b.includes(l.type)){const t=y.get(l.type);if(!t)throw new Error("Unknown handler");i=t({...e,stack:[],start:n+1,nestLevel:r})}else i=M({...e,stack:[],start:n+1,nestLevel:r});i&&i.node&&"SpaceLiteral"===i.node.type&&(i=M({...e,stack:[],start:i.end,nestLevel:r}));const{end:c,node:p}=i;return"BinaryOperation"===u.type?{end:c,node:k(w(s.value,u,p))}:{end:c,node:k({type:"BinaryOperation",name:s.value,items:[u,p]})}}const O=["command","ident","infix","number","operator","paren.open","prefix","text"];function M(e){if(e.start>=e.tokens.length)return{node:{type:"Term",items:[]},end:e.start};const{type:t}=e.tokens[e.start];return"paren.open"===t?p(e):"space"===t?d(e):"infix"===t?L(e):"prefix"===t?f(e):function(e){let t=e.start,n=e.tokens[t];const a=[];for(;n&&O.includes(n.type)&&!e.stopAt?.(n);){const r=y.get(n.type);if(!r)throw new Error("Unknown Hander");const o=r({...e,start:t,stack:a});a.push(o.node),t=o.end,n=e.tokens[t]}return function(e,t){if(e.length<2)return;const[n,a]=e;if("IdentLiteral"!==n.type||"d"!==n.value)return;let r=a;for(;"UnaryOperation"===r.type||"BinaryOperation"===r.type||"TernaryOperation"===r.type;)[r]=r.items;if("IdentLiteral"!==r.type)return;const o=(t?.length??0)>0?n.value:"ùëë",s={...e[0],type:"OperatorLiteral",value:o,attrs:{...n.attrs??{},rspace:"0"}};e[0]=s}(a,e.textTransforms),o(a),{node:{type:"Term",items:a},end:t}}(e)}const N="http://www.w3.org/1998/Math/MathML";function $(e,{bare:t}){let n;if(n="math"===e.tag&&t?document.createDocumentFragment():document.createElementNS(N,e.tag),n instanceof Element&&e.attrs)for(const[t,a]of Object.entries(e.attrs))n.setAttribute(t,`${a}`);if(e.textContent&&(n.textContent=e.textContent),e.childNodes)for(const t of e.childNodes)t&&n.appendChild($(t,{bare:!1}));return n}function T(e,{bare:t}){const n=Object.entries(e.attrs||{}).map((([e,t])=>{return`${e}="${n=`${t}`,n.replace(/"/g,"&quot;")}"`;var n})).join(" "),a=n?`${e.tag} ${n}`:e.tag;if(e.textContent)return`<${a}>${e.textContent.replace(/[&<]/g,(e=>"&"===e?"&amp;":"&lt;"))}</${e.tag}>`;if(e.childNodes){const n=e.childNodes.map((e=>e?T(e,{bare:!1}):"")).join("");return"math"===e.tag&&t?n:`<${a}>${n}</${e.tag}>`}return`<${a} />`}function C(e,t,n){if(!e)throw new Error("updateDOM called on null");if(e.tagName.toLowerCase()!==t.tag)throw new Error("tag name mismatch");if("math"!==t.tag||!n.bare){const n=t.attrs||{},a=[];for(const t of e.attributes){const r=n[t.name];r?r!==t.value&&e.setAttribute(t.name,`${r}`):a.push(t.name)}for(const t of a)e.removeAttribute(t);for(const[t,a]of Object.entries(n))e.getAttribute(t)||e.setAttribute(t,`${a}`)}if(["mi","mn","mo","mspace","mtext"].includes(t.tag))return void(e.textContent!==t.textContent&&(e.textContent=t.textContent??""));const a=[],r=[],o=[];for(const[s,u]of function*(e){const t=e.map((e=>e?e[Symbol.iterator]():function*(){}()));for(;;){const e=t.map((e=>e.next()));if(e.every((({done:e})=>e)))return;yield e.map((({value:e})=>e))}}([e.children,t.childNodes]))(s||u)&&(u?s?s.tagName.toLowerCase()!==u.tag?o.push([s,$(u,n)]):C(s,u,{bare:!1}):a.push($(u,n)):r.push(s));for(const t of r)e.removeChild(t);for(const t of a)e.appendChild(t);for(const[t,n]of o)e.replaceChild(n,t)}const S=/^\p{L}/u;function A(e){return!!e&&S.test(e)}const _=/^[\p{L}\p{N}]/u;function B(e){return!!e&&_.test(e)}const E=/^\p{M}/u;function G(e){return!!e&&E.test(e)}const F=/^[\p{N}\u{218a}-\u{218b}]/u;function I(e){return!!e&&F.test(e)}const P=/^[\p{P}\p{Sm}\p{So}\u{2061}-\u{2064}]/u,U=/^\p{Pe}/u;function W(e){return!!e&&U.test(e)}const j=/^\p{Ps}/u,D={class:"mathup-function-ident"},q=new Map([["CC",{value:"‚ÑÇ"}],["Delta",{value:"Œî",attrs:{mathvariant:"normal"}}],["Gamma",{value:"Œì",attrs:{mathvariant:"normal"}}],["Lambda",{value:"Œõ",attrs:{mathvariant:"normal"}}],["NN",{value:"‚Ñï"}],["O/",{value:"‚àÖ"}],["Omega",{value:"Œ©",attrs:{mathvariant:"normal"}}],["Phi",{value:"Œ¶",attrs:{mathvariant:"normal"}}],["Pi",{value:"Œ†",attrs:{mathvariant:"normal"}}],["Psi",{value:"Œ®",attrs:{mathvariant:"normal"}}],["QQ",{value:"‚Ñö"}],["RR",{value:"‚Ñù"}],["Sigma",{value:"Œ£",attrs:{mathvariant:"normal"}}],["Theta",{value:"Œò",attrs:{mathvariant:"normal"}}],["Xi",{value:"Œû",attrs:{mathvariant:"normal"}}],["ZZ",{value:"‚Ñ§"}],["alpha",{value:"Œ±"}],["beta",{value:"Œ≤"}],["chi",{value:"œá"}],["cos",{value:"cos",attrs:{...D}}],["cosh",{value:"cosh",attrs:{...D}}],["cot",{value:"cot",attrs:{...D}}],["csc",{value:"csc",attrs:{...D}}],["cosec",{value:"cosec",attrs:{...D}}],["delta",{value:"Œ¥"}],["det",{value:"det",attrs:{...D}}],["dim",{value:"dim",attrs:{...D}}],["epsilon",{value:"…õ"}],["eta",{value:"Œ∑"}],["gamma",{value:"Œ≥"}],["gcd",{value:"gcd",attrs:{...D}}],["iota",{value:"Œπ"}],["kappa",{value:"Œ∫"}],["lambda",{value:"Œª"}],["lcm",{value:"lcm",attrs:{...D}}],["ln",{value:"ln",attrs:{...D}}],["log",{value:"log",attrs:{...D}}],["max",{value:"max",attrs:{...D}}],["min",{value:"min",attrs:{...D}}],["mu",{value:"Œº"}],["nu",{value:"ŒΩ"}],["omega",{value:"œâ"}],["oo",{value:"‚àû"}],["phi",{value:"œÜ"}],["phiv",{value:"œï"}],["pi",{value:"œÄ"}],["psi",{value:"œà"}],["rho",{value:"œÅ"}],["sec",{value:"sec",attrs:{...D}}],["sigma",{value:"œÉ"}],["sin",{value:"sin",attrs:{...D}}],["sinh",{value:"sinh",attrs:{...D}}],["tan",{value:"tan",attrs:{...D}}],["tanh",{value:"tanh",attrs:{...D}}],["tau",{value:"œÑ"}],["theta",{value:"Œ∏"}],["upsilon",{value:"œÖ"}],["xi",{value:"Œæ"}],["zeta",{value:"Œ∂"}]]),R=new Map([["-",{value:"‚àí"}],["!=",{value:"‚â†"}],["!==",{value:"‚â¢"}],["!in",{value:"‚àâ"}],[".$",{value:"‚Å°",attrs:{class:"mathup-function-application"}}],[".*",{value:"‚Å¢",attrs:{class:"mathup-invisible-times"}}],[".+",{value:"‚Å§",attrs:{class:"mathup-invisible-add"}}],[".,",{value:"‚Å£",attrs:{class:"mathup-invisible-separator"}}],["'",{value:"‚Ä≤",attrs:{lspace:0,rspace:0}}],["''",{value:"‚Ä≥",attrs:{lspace:0,rspace:0}}],["'''",{value:"‚Ä¥",attrs:{lspace:0,rspace:0}}],["''''",{value:"‚Åó",attrs:{lspace:0,rspace:0}}],["*",{value:"¬∑"}],["**",{value:"‚àó"}],["***",{value:"‚ãÜ"}],["+-",{value:"¬±"}],["-+",{value:"‚àì"}],["-:",{value:"√∑"}],["-<",{value:"‚â∫"}],["-<=",{value:"‚™Ø"}],["-=",{value:"‚â°"}],["->",{value:"‚Üí"}],["->>",{value:"‚Ü†"}],["...",{value:"‚Ä¶"}],["//",{value:"‚ÅÑ"}],["/_",{value:"‚à†"}],["/_\\",{value:"‚ñ≥"}],[":.",{value:"‚à¥"}],[":|:",{value:"|",attrs:{stretchy:!0},sep:!0}],["<-",{value:"‚Üê"}],["<<<",{value:"‚â™"}],["<=",{value:"‚â§"}],["<=>",{value:"‚áî"}],["<>",{value:"‚ãÑ"}],["<|",{value:"‚ä≤"}],["==",{value:"‚â°"}],["=>",{value:"‚áí"}],[">-",{value:"‚âª"}],[">-=",{value:"‚™∞"}],[">->",{value:"‚Ü£"}],[">->>",{value:"‚§ñ"}],["><|",{value:"‚ãä"}],[">=",{value:"‚â•"}],[">>>",{value:"‚â´"}],["@",{value:"‚àò"}],["AA",{value:"‚àÄ"}],["EE",{value:"‚àÉ"}],["TT",{value:"‚ä§"}],["[]",{value:"‚ñ°"}],["^^",{value:"‚àß"}],["^^^",{value:"‚ãÄ"}],["_|_",{value:"‚ä•"}],["aleph",{value:"‚Ñµ"}],["and",{value:"and"}],["cdots",{value:"‚ãØ"}],["darr",{value:"‚Üì"}],["ddots",{value:"‚ã±"}],["del",{value:"‚àÇ"}],["diamond",{value:"‚ãÑ"}],["dint",{value:"‚à¨"}],["grad",{value:"‚àá"}],["hArr",{value:"‚áî"}],["harr",{value:"‚Üî"}],["if",{value:"if"}],["iff",{value:"‚áî"}],["in",{value:"‚àà"}],["int",{value:"‚à´"}],["lArr",{value:"‚áê"}],["larr",{value:"‚Üê"}],["lim",{value:"lim"}],["mod",{value:"mod"}],["nn",{value:"‚à©"}],["nnn",{value:"‚ãÇ"}],["not",{value:"¬¨"}],["o+",{value:"‚äï"}],["o.",{value:"‚äô"}],["oc",{value:"‚àù"}],["oint",{value:"‚àÆ"}],["or",{value:"or"}],["otherwise",{value:"otherwise"}],["ox",{value:"‚äó"}],["prod",{value:"‚àè"}],["prop",{value:"‚àù"}],["rArr",{value:"‚áí"}],["rarr",{value:"‚Üí"}],["square",{value:"‚ñ°"}],["sub",{value:"‚äÇ"}],["sube",{value:"‚äÜ"}],["sum",{value:"‚àë"}],["sup",{value:"‚äÉ"}],["supe",{value:"‚äá"}],["uarr",{value:"‚Üë"}],["uu",{value:"‚à™"}],["uuu",{value:"‚ãÉ"}],["vdots",{value:"‚ãÆ"}],["vv",{value:"‚à®"}],["vvv",{value:"‚ãÅ"}],["xx",{value:"√ó"}],["|--",{value:"‚ä¢"}],["|->",{value:"‚Ü¶"}],["|==",{value:"‚ä®"}],["|>",{value:"‚ä≥"}],["|><",{value:"‚ãâ"}],["|><|",{value:"‚ãà"}],["||",{value:"‚à•"}],["~=",{value:"‚âÖ"}],["~~",{value:"‚âà"}]]),H=new Map([["(:",{value:"‚ü®"}],["<<",{value:"‚ü®"}],["{:",{value:""}],["|(",{value:"|"}],["|:",{value:"|"}],["|__",{value:"‚åä"}],["||(",{value:"‚Äñ"}],["||:",{value:"‚Äñ"}],["|~",{value:"‚åà"}],["(mod",{value:"(",attrs:{lspace:"1.65ex"},extraTokensAfter:[{type:"operator",value:"mod",attrs:{lspace:0}}]}]]),Z=new Map([[")|",{value:"|"}],[")||",{value:"‚Äñ"}],[":)",{value:"‚ü©"}],[":|",{value:"|"}],[":||",{value:"‚Äñ"}],[":}",{value:""}],[">>",{value:"‚ü©"}],["__|",{value:"‚åã"}],["~|",{value:"‚åâ"}]]),z=new Map([["bar",{name:"over",accent:"‚Äæ"}],["ddot",{name:"over",accent:"‚ãÖ‚ãÖ"}],["dot",{name:"over",accent:"‚ãÖ"}],["hat",{name:"over",accent:"^"}],["obrace",{name:"over",accent:"‚èû"}],["obracket",{name:"over",accent:"‚é¥"}],["oparen",{name:"over",accent:"‚èú"}],["oshell",{name:"over",accent:"‚è†"}],["tilde",{name:"over",accent:"Àú"}],["ubrace",{name:"under",accent:"‚èü"}],["ubrace",{name:"under",accent:"‚èü"}],["ubracket",{name:"under",accent:"‚éµ"}],["ul",{name:"under",accent:"_"}],["uparen",{name:"under",accent:"‚èù"}],["ushell",{name:"under",accent:"‚è°"}],["vec",{name:"over",accent:"‚Üí"}],["abs",{name:"fence",attrs:{open:"|",close:"|"}}],["binom",{name:"frac",arity:2,attrs:{linethickness:0,open:"(",close:")"}}],["ceil",{name:"fence",attrs:{open:"‚åà",close:"‚åâ"}}],["floor",{name:"fence",attrs:{open:"‚åä",close:"‚åã"}}],["norm",{name:"fence",attrs:{open:"‚Äñ",close:"‚Äñ"}}],["root",{name:"root",arity:2}],["sqrt",{name:"sqrt"}],["cancel",{name:"row",attrs:{class:"mathup-enclose-cancel"}}]]),Q=new Map([["rm",{name:"text-transform",value:"normal"}],["bf",{name:"text-transform",value:"bold"}],["it",{name:"text-transform",value:"italic"}],["bb",{name:"text-transform",value:"double-struck"}],["cc",{name:"text-transform",value:"script"}],["tt",{name:"text-transform",value:"monospace"}],["fr",{name:"text-transform",value:"fraktur"}],["sf",{name:"text-transform",value:"sans-serif"}],["black",{name:"color",value:"black"}],["‚ö´",{name:"color",value:"black"}],["blue",{name:"color",value:"blue"}],["üîµ",{name:"color",value:"blue"}],["brown",{name:"color",value:"brown"}],["üü§",{name:"color",value:"brown"}],["cyan",{name:"color",value:"cyan"}],["gray",{name:"color",value:"gray"}],["green",{name:"color",value:"green"}],["üü¢",{name:"color",value:"green"}],["lightgray",{name:"color",value:"lightgray"}],["orange",{name:"color",value:"orange"}],["üü†",{name:"color",value:"orange"}],["purple",{name:"color",value:"purple"}],["üü£",{name:"color",value:"purple"}],["red",{name:"color",value:"red"}],["üî¥",{name:"color",value:"red"}],["white",{name:"color",value:"white"}],["‚ö™",{name:"color",value:"white"}],["yellow",{name:"color",value:"yellow"}],["üü°",{name:"color",value:"yellow"}],["bg.black",{name:"background",value:"black"}],["‚¨õ",{name:"background",value:"black"}],["bg.blue",{name:"background",value:"blue"}],["üü¶",{name:"background",value:"blue"}],["bg.brown",{name:"background",value:"brown"}],["üü´",{name:"background",value:"brown"}],["bg.cyan",{name:"background",value:"cyan"}],["bg.gray",{name:"background",value:"gray"}],["bg.green",{name:"background",value:"green"}],["üü©",{name:"background",value:"green"}],["bg.lightgray",{name:"background",value:"lightgray"}],["bg.orange",{name:"background",value:"orange"}],["üüß",{name:"background",value:"orange"}],["bg.purple",{name:"background",value:"purple"}],["üü™",{name:"background",value:"purple"}],["bg.red",{name:"background",value:"red"}],["üü•",{name:"background",value:"red"}],["bg.white",{name:"background",value:"white"}],["‚¨ú",{name:"background",value:"white"}],["bg.yellow",{name:"background",value:"yellow"}],["üü®",{name:"background",value:"yellow"}]]);function X(e,t,n,{offset:a=0}={}){let r=0;for(;n[t+a+r]===e;)r+=1;let o="",s=0,u=t+a+r;for(;s<r&&!(u>=n.length);)n[u]===e?s+=1:(s>0&&(o+=e.repeat(s),s=0),o+=n[u]),u+=1;return{value:o.trim(),end:u}}function J(e,t,n){return X("`",e,t,n)}function K(e,t,n){const a=t+e.length;let r="",[o]=n.slice(a);if(!o)return{value:e,end:a};if(B(o)){for(;B(o);)r+=o,[o]=n.slice(a+r.length);return{value:r,end:a+r.length}}return"`"===o?J(t,n,{offset:e.length}):{value:o,end:a+o.length}}function V(e,t,n){let a=t,r=e.at(a);for(;" "===r||"\n"===r;)a+=1,r=e.at(a);return!(!r||n&&(W(r)||function(e,t){for(const n of Z.keys())if(e.startsWith(n,t))return!0;return!1}(e,a)))}const Y=new Map([["^","sup"],["/","frac"],["_","sub"],[".^","over"],["._","under"]]),ee=new Set;for(const e of[Q,q,R,Z,H,z])for(const t of e.keys())"^/_".includes(t[0])&&ee.add(t);function te(e){for(const[t]of R)if(t.startsWith(e))return!0;return!1}function ne(e){for(const[t]of Z)if(t.startsWith(e))return!0;return!1}function ae(e){for(const[t]of H)if(t.startsWith(e))return!0;return!1}const re=[function(e,t,{start:n}){if(" "!==e)return null;let a=n,r=e,o="";for(;" "===r;)o+=r,a+=1,r=t[a];return{type:"space",value:o,end:a}},function(e,t,{start:n,grouping:a}){if(!A(e))return null;let r=e,o="";for(;A(r)||G(r)||o.length>0&&"."===r;){const e=n+o.length+r.length;o+=r,[r]=t.slice(e)}o.endsWith(".")&&(o=o.slice(0,-1));let s=n+o.length;{const e=R.get(o);if(e)return{type:"operator",value:e.value,attrs:e.attrs,end:n+o.length}}{const e=q.get(o);if(e)return{type:"ident",value:e.value,attrs:e.attrs,end:n+o.length}}const u=`${o}${r}`,[l]=t.slice(n+u.length);{const e=R.get(u);if(e&&!B(l))return{type:"operator",value:e.value,attrs:e.attrs,end:n+u.length}}{const e=q.get(u);if(e&&!B(l))return{type:"ident",value:e.value,attrs:e.attrs,end:n+u.length}}{const e=z.get(o);if(e&&(function(e){return"root"===e.name||"sqrt"===e.name}(e)||V(t,s,a)))return{type:"prefix",value:"",end:s,...e}}{const e=Q.get(o);if(e&&V(t,s,a))return{type:"command",end:s,...e}}return o.includes(".")&&(o=o.slice(0,o.indexOf(".")),s=n+o.length),{type:"ident",value:o,end:s,split:!0}},function(e,t,{start:n},{decimalMark:a}){if(!I(e))return null;let r=e,o="";for(;I(r);)o+=r,[r]=t.slice(n+o.length);if(r===a&&([r]=t.slice(n+o.length+a.length),I(r)))for(o+=a;I(r);)o+=r,[r]=t.slice(n+o.length);return{type:"number",value:o,end:n+o.length}},function(e,t,{start:n}){if("`"!==e)return null;const{end:a,value:r}=J(n,t);return{type:"ident",value:r,end:a}},function(e,t,{start:n}){if('"'!==e)return null;const{end:a,value:r}=function(e,t){return X('"',e,t,void 0)}(n,t);return{type:"text",value:r,end:a}},function(e,t,{start:n}){if("#"!==e)return null;const{end:a,value:r}=K("#",n,t);return{type:"number",value:r,end:a}},function(e,t,{start:n}){return"\\"!==e?null:{type:"operator",...K("\\",n,t)}},function(e,t,{start:n,grouping:a}){if("\n"!==e)return null;let r=n,o=e,s="";for(;"\n"===o;)s+=o,r+=1,o=t[r];return{type:a?"sep.row":"space",value:s,end:r}},function(e,t,{start:n}){if("."===e){const e=t[n+1],a=Y.get(`.${e}`);if(a){for(const e of ee)if(e===t.slice(n+1,n+1+e.length))return null;return{type:"infix",value:a,end:n+2}}}const a=Y.get(e);if(a){for(const e of ee)if(e===t.slice(n,n+e.length))return null;return{type:"infix",value:a,end:n+1}}return null},function(e,t,{grouping:n,start:a},{colSep:r,rowSep:o}){if(!n)return null;const s=a+r.length,u=a+o.length;return t.slice(a,u)===o?{type:"sep.row",value:o,end:u}:t.slice(a,s)===r?{type:"sep.col",value:r,end:s}:null},function(e,t,{start:n}){let a=e;if(ae(a)){let[e]=t.slice(n+a.length),r=a+e;for(;e&&ae(r);)a+=e,[e]=t.slice(n+a.length),r=a+e}{const[e]=t.slice(n+a.length),r=a+e;if(R.has(r))return null}const r=H.get(a);return r?{...r,type:"paren.open",end:n+a.length}:function(e){return!!e&&j.test(e)}(e)?{type:"paren.open",value:e,end:n+e.length}:null},function(e,t,{grouping:n,start:a}){if(!n)return null;let r=e;if(ne(r)){let[e]=t.slice(a+r.length),n=r+e;for(;e&&ne(n);)r+=e,[e]=t.slice(a+r.length),n=r+e}{const[e]=t.slice(a+r.length),n=r+e;if(R.has(n))return null}const o=Z.get(r);return o?{type:"paren.close",value:o.value,end:a+r.length}:W(e)?{type:"paren.close",value:e,end:a+e.length}:null},function(e,t,{start:n,grouping:a}){let r=e;if(te(r)){let[e]=t.slice(n+r.length),a=r+e;for(;e&&te(a);)r+=e,[e]=t.slice(n+r.length),a=r+e}const o=R.get(r);if(o)return{type:o.sep&&a?"sep.col":"operator",value:o.value,attrs:o.attrs,end:n+r.length};const s=Q.get(r);if(s)return{type:"command",end:n+r.length,...s};if(!function(e){return!!e&&P.test(e)}(e))return null;const u={type:"operator",value:e,end:n+e.length};return"|"===e&&" "===t.at(n-1)&&" "===t.at(n+1)&&(u.attrs={stretchy:!0}),u}];function oe(e){return null!==e}function se(e){return t=>({tag:e,attrs:t.attrs,textContent:t.value})}function ue(e){return null!==e}function le(e,t){const{open:n,close:a,...r}=e.attrs||{},o={tag:`m${e.name}`,childNodes:e.items.map(t),attrs:r};return n||a?{tag:"mrow",childNodes:[{tag:"mo",textContent:`${n}`,attrs:{fence:!0}},o,{tag:"mo",textContent:`${a}`,attrs:{fence:!0}}]}:o}function ie(e,t){return`var(--mathup-${e}-${t}, ${t})`}function ce(e,t){if(!e||!t)return t;const n=new Map;for(const[t,a]of e)if("background"===t){const e=n.get("background"),r=ie(t,a);e?n.set("background",`${e},${r}`):n.set("background",r)}else n.set(t,ie(t,a));let a=t.attrs?.style??"";for(const[e,t]of n)a+=`${e}:${t};`;return a?{...t,attrs:t.attrs?{...t.attrs,style:a}:{style:a}}:t}function pe(e){return null!==e}function me(e,t){let n="";for(const a of t)n+=e(a);return n}function ve(e,t){return n=>{if(t){const e=t.get(n);if(e)return e}const a=n.codePointAt(0);if(!a)return n;for(const[[t,n],r]of e)if(t<=a&&a<=n)return String.fromCodePoint(a+r);return n}}function fe([e,t]){return n=>[[e,t],n-e]}const de=fe([48,57]),ge=fe([65,90]),he=fe([97,122]),ye=fe([913,937]),be=fe([945,969]),ke=ve([de(120782),ge(119808),he(119834),ye(120488),be(120514)],new Map([["œ¥","ùöπ"],["‚àá","ùõÅ"],["‚àÇ","ùõõ"],["œµ","ùõú"],["œë","ùõù"],["œ∞","ùõû"],["œï","ùõü"],["œ±","ùõ†"],["œñ","ùõ°"],["œú","ùüä"],["œù","ùüã"]])),we=ve([ge(119860),he(119886),ye(120546),be(120572)],new Map([["h","‚Ñé"],["ƒ±","ùö§"],["»∑","ùö•"],["œ¥","ùõ≥"],["‚àá","ùõª"],["‚àÇ","ùúï"],["œµ","ùúñ "],["œë","ùúó"],["œ∞","ùúò"],["œï","ùúô"],["œ±","ùúö"],["œñ","ùúõ"]])),xe=ve([ge(119912),he(119938),ye(120604),be(120630)],new Map([["œ¥","ùú≠"],["‚àá","ùúµ"],["‚àÇ","ùùè"],["œµ","ùùê"],["œë","ùùë"],["œ∞","ùùí"],["œï","ùùì"],["œ±","ùùî"],["œñ","ùùï"]])),Le=ve([de(120792),ge(120120),he(120146)],new Map([["C","‚ÑÇ"],["H","‚Ñç"],["N","‚Ñï"],["P","‚Ñô"],["Q","‚Ñö"],["R","‚Ñù"],["Z","‚Ñ§"],["œÄ","‚Ñº"],["Œ≥","‚ÑΩ"],["Œ†","‚Ñø"],["‚àë","‚ÖÄ"]])),Oe=ve([],new Map([["D","‚ÖÖ"],["d","‚ÖÜ"],["i","‚Öà"],["j","‚Öâ"]])),Me=ve([ge(120068),he(120094)],new Map([["C","‚Ñ≠"],["H","‚Ñå"],["I","‚Ñë"],["R","‚Ñú"],["Z","‚Ñ®"]])),Ne=ve([ge(120172),he(120198)]),$e=ve([de(120822),ge(120432),he(120458)]),Te=ve([de(120802),ge(120224),he(120250)]),Ce=ve([de(120812),ge(120276),he(120302),ye(120662),be(120688)],new Map([["œ¥","ùùß"],["‚àá","ùùØ"],["‚àÇ","ùûâ"],["œµ","ùûä"],["œë","ùûã"],["œ∞","ùûå"],["œï","ùûç"],["œ±","ùûé"],["œñ","ùûè"]])),Se=ve([ge(120328),he(120354)]),Ae=ve([ge(120380),he(120406),ye(120720),be(120746)],new Map([["œ¥","ùû°"],["‚àá","ùû©"],["‚àÇ","ùüÉ"],["œµ","ùüÑ"],["œë","ùüÖ"],["œ∞","ùüÜ"],["œï","ùüá"],["œ±","ùüà"],["œñ","ùüâ"]])),_e=ve([ge(119964),he(119990)],new Map([["B","‚Ñ¨"],["E","‚Ñ∞"],["F","‚Ñ±"],["H","‚Ñã"],["I","‚Ñê"],["L","‚Ñí"],["M","‚Ñ≥"],["R","‚Ñõ"],["e","‚ÑØ"],["g","‚Ñä"],["o","‚Ñ¥"]])),Be=ve([ge(120016),he(120042)]);function Ee(e){return`var(--mathup-font-family-${e}, ${e})`}function Ge(e,t){const n=new Map;if(t.includes("bold")&&n.set("font-weight","bold"),t.includes("italic")&&n.set("font-style","italic"),t.includes("sans-serif")?n.set("font-family",Ee("sans-serif")):t.includes("monospace")&&n.set("font-family",Ee("monospace")),0===n.size)return e;let a="";for(const[e,t]of n)a+=`${e}:${t};`;return{...e,style:a}}function Fe(e,t){return t.includes("double-struck")?me(Le,e):t.includes("script")?me(_e,e):t.includes("fraktur")?me(Me,e):e}function Ie(e,t){return t.includes("bold")?t.includes("italic")?t.includes("sans-serif")?me(Ae,e):me(xe,e):t.includes("script")?me(Be,e):t.includes("fraktur")?me(Ne,e):t.includes("sans-serif")?me(Ce,e):me(ke,e):t.includes("italic")?t.includes("double-struck")?me(Oe,e):t.includes("sans-serif")?me(Se,e):me(we,e):t.includes("sans-serif")?me(Te,e):t.includes("monospace")?me($e,e):Fe(e,t)}function Pe(e,t){if(Array.isArray(e))return e.map((e=>Pe(e,t)));if("TextLiteral"===e.type){const{attrs:n={},transforms:a=[]}=t;return{...e,attrs:Ge(n,a),value:Fe(e.value,a)}}if("IdentLiteral"===e.type&&1===e.value.length&&t.transforms&&1===t.transforms.length&&"normal"===t.transforms[0])return{...e,attrs:{...e.attrs??{},mathvariant:"normal"}};if("IdentLiteral"===e.type||"NumberLiteral"===e.type||"OperatorLiteral"===e.type){const{transforms:n=[]}=t;return{...e,value:Ie(e.value,n)}}return"MultiScripts"===e.type?{...e,base:Pe(e.base,t)}:"items"in e?{...e,items:e.items.map((e=>Pe(e,t)))}:e}const Ue=new Map([["BinaryOperation",le],["FencedGroup",function(e,t){const n=e.items.map((e=>1===e.length?t(e[0]):{tag:"mrow",childNodes:e.map(t).filter(oe)})).reduce(((t,n,a)=>{t?.childNodes?.push(n);const r=e.attrs.seps[a];if(r){const{value:e,attrs:n={}}=r;t?.childNodes?.push({tag:"mo",textContent:e,attrs:{...n,separator:!0}})}return t}),{tag:"mrow",childNodes:[]}),{open:a,close:r}=e.attrs;if(n&&!a.value&&!r?.value)return n;const o=[];return a.value&&o.push({tag:"mo",textContent:a.value,attrs:{...a.attrs,fence:"true"}}),1===n?.childNodes?.length?o.push(n.childNodes[0]):o.push(n),r?.value&&o.push({tag:"mo",textContent:r.value,attrs:{...r.attrs,fence:"true"}}),{tag:"mrow",childNodes:o}}],["IdentLiteral",se("mi")],["MatrixGroup",function(e,t){const n=[],a=e.items.reduce(((e,t)=>Math.max(e,t.length)),0),{open:r,close:o}=e.attrs,s=o?.value?[]:Array.from({length:a}).fill("start");return r.value&&n.push({tag:"mo",textContent:r.value,attrs:{...r.attrs,fence:"true"}}),n.push({tag:"mtable",childNodes:e.items.map((e=>({tag:"mtr",childNodes:e.map(((e,n)=>({tag:"mtd",attrs:s[n]?{style:`text-align: ${s[n]}`}:{},childNodes:e.map(t).filter(ue)})))})))}),o?.value&&n.push({tag:"mo",textContent:o.value,attrs:{...o.attrs,fence:"true"}}),{tag:"mrow",childNodes:n}}],["MultiScripts",function(e,t){const n=e.post.flatMap((e=>e.map((e=>1===e.length?t(e[0]):{tag:"mrow",childNodes:e.map(t)})))),a=[t(e.base),...n];if(e.pre&&e.pre.length>0){a.push({tag:"mprescripts"});const n=e.pre.flatMap((e=>e.map((e=>1===e.length?t(e[0]):{tag:"mrow",childNodes:e.map(t)}))));a.push(...n)}return{tag:"mmultiscripts",childNodes:a}}],["NumberLiteral",se("mn")],["OperatorLiteral",se("mo")],["Sentence",function(e,t,n){const a={};return n.dir&&(a.dir=n.dir),n.display&&(a.display=n.display),{tag:"math",attrs:a,childNodes:e.body.map(t).filter((e=>null!==e))}}],["SpaceLiteral",function(e){return"0ex"===e.attrs.width?null:{tag:"mspace",attrs:e.attrs}}],["Term",function(e,t){return 1===e.items.length&&pe(e.items[0])?ce(e.styles,t(e.items[0])):ce(e.styles,{tag:"mrow",childNodes:e.items.map(t).filter(pe)})}],["TernaryOperation",le],["TextLiteral",se("mtext")],["UnaryOperation",function(e,t){if("command"===e.name)return ce(e.styles,t(Pe(e.items[0],e)));if("fence"===e.name){const{open:n,close:a}=e.attrs||{};return{tag:"mrow",childNodes:[{tag:"mo",attrs:{fence:!0},textContent:`${n}`},1===e.items.length?t(e.items[0]):{tag:"mrow",childNodes:e.items.map(t)},{tag:"mo",attrs:{fence:!0},textContent:`${a}`}]}}const n=`m${e.name}`;let[a]=e.items;if("Term"===a.type&&1===a.items.length&&([a]=a.items),e.accent){const r=e.attrs?{...e.attrs}:{};return"over"===e.name?(r.accent=!0,"IdentLiteral"===a.type&&("i"===a.value?a.value="ƒ±":"j"===a.value&&(a.value="»∑"))):"under"===e.name&&(r.accentunder=!0),{tag:n,childNodes:[t(a),{tag:"mo",textContent:e.accent}],attrs:r}}return{tag:n,childNodes:[t(a)],attrs:e.attrs}}]]);function We({bare:e=!1,dir:t=null,display:n=null,decimalMark:a=".",colSep:r=(","===a?";":","),rowSep:o=(";"===r?";;":";")}){const s={decimalMark:a,colSep:r,rowSep:o},u={dir:t,display:n},l={bare:e};return function(e){const t=function(e){function t(t,n){const[a]=t.slice(n.start);for(const r of re){const o=r(a,t,n,e);if(o)return o}return function(e,t,{start:n}){return{type:"ident",value:e,end:n+e.length}}(a,0,n)}return function*(e){let n=0,a=0;for(;n<e.length;){const{type:r,value:o,end:s,split:u,extraTokensAfter:l,...i}=t(e,{start:n,grouping:a>0});if(u){let e="";for(const t of o)G(t)?e+=t:e?(yield{type:r,value:e},e=t):e=t;e&&(yield{type:r,value:e})}else yield{type:r,value:o,...i};if(l)for(const e of l)yield e;n=s,"paren.open"===r?a+=1:"paren.close"===r&&a>0&&(a-=1)}}}(s),n=function(e){const t=[];let n=0;for(;n<e.length;){const a=M({tokens:e,start:n,stack:t,nestLevel:1});n=a.end,t.push(a.node)}return{type:"Sentence",body:t}}([...t(e)]);var a;const r=(a=u,function e(t){const n=Ue.get(t.type);return n?n(t,e,a):null})(n);if(!r)throw new Error("Failed parsing AST");return{toDOM:()=>$(r,l),toString:()=>T(r,l),updateDOM:e=>C(e,r,l)}}}function je(e,t={}){return We(t)(e)}}}]);